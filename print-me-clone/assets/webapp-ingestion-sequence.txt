title Webapp Ingestion

# Establish actors
actor User
fontawesome f233 Web Server
fontawesome f121 Job Status
fontawesome f121 Upload Provider
fontawesome f1c0 Object Store
fontawesome f121 Upload Handler
fontawesome f121 Job Status
fontawesome f1c0 Metadata Store

User->Web Server: Request Webapp
Web Server->User: Static Webapp
space 3
User->Upload Provider: Get Upload URLs
activate Upload Provider
Upload Provider->Metadata Store: Track Document
Upload Provider->User: Upload URLs

deactivate Upload Provider
User->Object Store: Store Document

User->Job Status: Poll
Job Status->User: Unprocessed

space -7
Object Store->Upload Handler: Upload Event
activate Upload Handler
Upload Handler->Upload Handler: Process File
Upload Handler->Metadata Store: Update Document Status
space 1
deactivate Upload Handler
space -5
User->Job Status: Poll
Job Status->User: Code
